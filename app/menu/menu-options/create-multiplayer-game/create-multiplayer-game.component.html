<div style="height:90%">
<menu-header [title]="'Create Multiplayer Game'">

</menu-header>

<div class="centered-container">

<md-card style="height:80%">
    <!--<md-card-title>Card with title</md-card-title>-->
    <md-card-content>

        <md-input 
            placeholder="Nombre del Juego" 
            maxlength="20" 
            class="full-width" 
            [(ngModel)]="createGameBody.name"
            (change)="validateName()"
            required>
            <span md-suffix>
                <md-icon *ngIf="createGameBody.users.length !== 0" style="color:#edb425;">lock
                </md-icon>
                <md-icon *ngIf="createGameBody.users.length === 0" style="color:#edb425;">lock_open
                </md-icon>
                <md-icon 
                    style="color:#AED581;"
                    *ngIf="validations.name.valid && validations.name.dirty">check_circle
                </md-icon>
                <md-icon 
                    style="color:#921919;"
                    *ngIf="!validations.name.valid && validations.name.dirty">error
                </md-icon>
            </span>
            <md-hint align="end" style="color:#921919;">{{validations.name.message}}</md-hint>
        </md-input>
        <h6>Configuración: {{gameConfigName}}</h6>
        <h6>Usuarios: {{createGameBody.users.length}}</h6>
        <br><br>
        <md-tab-group (selectChange)="onTabChange($event)">
            <md-tab>
                <template md-tab-label>CONFIGURACIÓN</template>
                <template md-tab-content>
                    <finder 
                        (finderEvent)="findConfigs($event)" 
                        [placeholder]="'Filtrar Configuraciones'">
                        <items-founded>
                        <div>
                            <button 
                                md-raised-button 
                                (click)="selectGameConfig(gameConfig)" 
                                *ngFor="let gameConfig of gameConfigs">{{gameConfig.name}}
                            </button>
                            <br>
                        </div>
                        </items-founded>
                    </finder>
                </template>
            </md-tab>
            <md-tab>
                <template md-tab-label>USUARIOS</template>
                <template md-tab-content>
                    <finder 
                        (finderEvent)="findUsers($event)" 
                        [placeholder]="'Filtrar Usuarios'">
                        <items-founded>
                        <div>
                            <button 
                                md-raised-button color="{{resolveUserColor(user)}}" 
                                (click)="selectUser(user)" 
                                *ngFor="let user of users">{{user.username}}
                            </button>
                        </div>
                        </items-founded>
                    </finder>
                </template>

            </md-tab>
        </md-tab-group>



    </md-card-content>
</md-card>
<br>

</div>

</div>
<md-card class="footer-card">
    <button md-button (click)="create()" [disabled]="!validations.name.valid || createGameBody.gameId.length === 0">CREAR</button>
</md-card>

<!--<p>{{createGameBody.gameId}}</p>
<md-input placeholder="match name" [(ngModel)]="createGameBody.name"></md-input>
<button md-raised-button (click)="create()" >Create</button>

<button md-raised-button (click)="createGameBody.gameId = gameConfig._id" *ngFor="let gameConfig of gameConfigs">{{gameConfig.name}}</button>-->